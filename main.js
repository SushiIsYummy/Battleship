/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/js/DOM/createGameboardGrid.js":(e,r,o)=>{o.r(r),o.d(r,{default:()=>t});const t=function(e,r){let o=e.getSize();console.log(r);let t=document.querySelector(`.${r}`);console.log(t);for(let e=0;e<o;e++)for(let r=0;r<o;r++){let o=document.createElement("div");o.classList.add("cell"),o.dataset.coordinate=`${r}${e}`,t.appendChild(o)}}},"./src/js/DOM/placeShipOnGameboard.js":(e,r,o)=>{function t(e,r,o){if(function(e,r){const{length:o,row:t,col:l,orientation:a}=e;let n=r.getSize();if("horizontal"===a&&l+o>n||"vertical"===a&&t+o>n)return!1;if("horizontal"===a){for(let e=0;e<o;e++)if(r.isOccupiedCell(l+e,t))return!1}else if("vertical"===a)for(let e=0;e<o;e++)if(r.isOccupiedCell(l,t+e))return!1;return!0}(e,r)){const{row:t,col:l,name:a,length:n,orientation:c}=e;let s;if(console.log("row: "+t),console.log("col: "+l),"horizontal"===c){let e=document.querySelector(`.${o}`);for(let o=0;o<n;o++)s=e.querySelector(`.cell[data-coordinate="${l+o}${t}"]`),s.classList.add(a),r.occupyCell(l+o,t)}else if("vertical"===c){let e=document.querySelector(`.${o}`);for(let o=0;o<n;o++)s=e.querySelector(`.cell[data-coordinate="${l}${t+o}"]`),s.classList.add(a),r.occupyCell(l,t+o)}return!0}return!1}function l(e,r){console.log(e);let o=e.getSize();[{name:"carrier",length:5},{name:"battleship",length:4},{name:"cruiser",length:3},{name:"submarine",length:3},{name:"destroyer",length:2}].forEach((l=>{do{l.row=Math.floor(Math.random()*(o-0)+0),l.col=Math.floor(Math.random()*(o-0)+0),console.log(l.row,l.col);let e=Math.round(Math.random());l.orientation=e?"horizontal":"vertical"}while(!t(l,e,r));console.log(l)}))}o.r(r),o.d(r,{default:()=>a,placeAllShipsRandomlyOnGameboard:()=>l});const a=t},"./src/js/factories/Gameboard.js":(e,r,o)=>{o.r(r),o.d(r,{default:()=>t});const t=function(){new Array(10).fill().map((()=>new Array(10).fill(!1)));let e=new Array(10).fill().map((()=>new Array(10).fill(!1)));return{receiveAttack(e,r){},isOccupiedCell:(r,o)=>e[r][o],occupyCell(r,o){e[r][o]=!0},getSize:()=>10}}},"./src/js/factories/Player.js":(e,r,o)=>{o.r(r),o.d(r,{default:()=>t});const t=function(){return new Array(boardSize).fill().map((()=>new Array(boardSize).fill(!1))),{attack(e,r){}}}},"./src/js/factories/Ship.js":(e,r,o)=>{o.r(r),o.d(r,{default:()=>t});const t=function(e){let r=0,o=e;return{hit(){r++},isSunk:()=>r>=o,length:()=>o}}},"./src/css/styles.css":(e,r,o)=>{o.r(r)}},r={};function o(t){var l=r[t];if(void 0!==l)return l.exports;var a=r[t]={exports:{}};return e[t](a,a.exports,o),a.exports}o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};(()=>{o.r(t);var e=o("./src/js/DOM/createGameboardGrid.js"),r=o("./src/js/DOM/placeShipOnGameboard.js"),l=o("./src/js/factories/Gameboard.js");o("./src/js/factories/Player.js"),o("./src/js/factories/Ship.js"),o("./src/css/styles.css");let a=(0,l.default)(),n=(0,l.default)();(0,e.default)(a,"player-board"),(0,e.default)(n,"enemy-board"),(0,r.placeAllShipsRandomlyOnGameboard)(a,"player-board"),(0,r.placeAllShipsRandomlyOnGameboard)(n,"enemy-board"),console.log(a),console.log(n)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiO3dHQXFCQSxRQXJCQSxTQUE2QkEsRUFBV0MsR0FPdEMsSUFBSUMsRUFBZ0JGLEVBQVVHLFVBQzlCQyxRQUFRQyxJQUFJSixHQUNaLElBQUlLLEVBQW9CQyxTQUFTQyxjQUFlLElBQUdQLEtBQ25ERyxRQUFRQyxJQUFJQyxHQUNaLElBQUssSUFBSUcsRUFBSSxFQUFHQSxFQUFJUCxFQUFlTyxJQUNqQyxJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSVIsRUFBZVEsSUFBSyxDQUN0QyxJQUFJQyxFQUFPSixTQUFTSyxjQUFjLE9BQ2xDRCxFQUFLRSxVQUFVQyxJQUFJLFFBQ25CSCxFQUFLSSxRQUFRQyxXQUFjLEdBQUVOLElBQUlELElBQ2pDSCxFQUFrQlcsWUFBWU4sRUFDaEMsQ0FFSixvRENuQkEsU0FBU08sRUFBcUJDLEVBQVVuQixFQUFXb0IsR0FDakQsR0F5QkYsU0FBOEJELEVBQVVuQixHQUN0QyxNQUFNLE9BQUVxQixFQUFNLElBQUVDLEVBQUcsSUFBRUMsRUFBRyxZQUFFQyxHQUFnQkwsRUFDMUMsSUFBSWpCLEVBQWdCRixFQUFVRyxVQUU5QixHQUFxQixlQUFoQnFCLEdBQWdDRCxFQUFNRixFQUFTbkIsR0FBbUMsYUFBaEJzQixHQUE4QkYsRUFBTUQsRUFBU25CLEVBQ2xILE9BQU8sRUFJVCxHQUFvQixlQUFoQnNCLEdBQ0YsSUFBSyxJQUFJZixFQUFJLEVBQUdBLEVBQUlZLEVBQVFaLElBQzFCLEdBQUlULEVBQVV5QixlQUFlRixFQUFNZCxFQUFHYSxHQUNwQyxPQUFPLE9BR04sR0FBb0IsYUFBaEJFLEVBQ1QsSUFBSyxJQUFJZixFQUFJLEVBQUdBLEVBQUlZLEVBQVFaLElBQzFCLEdBQUlULEVBQVV5QixlQUFlRixFQUFLRCxFQUFNYixHQUN0QyxPQUFPLEVBS2IsT0FBTyxDQUNULENBakRNaUIsQ0FBcUJQLEVBQVVuQixHQUFZLENBQzdDLE1BQU0sSUFBRXNCLEVBQUcsSUFBRUMsRUFBRyxLQUFFSSxFQUFJLE9BQUVOLEVBQU0sWUFBRUcsR0FBZ0JMLEVBR2hELElBQUlSLEVBQ0osR0FIQVAsUUFBUUMsSUFBSSxRQUFVaUIsR0FDdEJsQixRQUFRQyxJQUFJLFFBQVVrQixHQUVGLGVBQWhCQyxFQUE4QixDQUNoQyxJQUFJbEIsRUFBb0JDLFNBQVNDLGNBQWUsSUFBR1ksS0FDbkQsSUFBSyxJQUFJWCxFQUFJLEVBQUdBLEVBQUlZLEVBQVFaLElBQzFCRSxFQUFPTCxFQUFrQkUsY0FBZSwwQkFBeUJlLEVBQU1kLElBQUlhLE9BQzNFWCxFQUFLRSxVQUFVQyxJQUFJYSxHQUNuQjNCLEVBQVU0QixXQUFXTCxFQUFNZCxFQUFHYSxFQUVsQyxNQUFPLEdBQW9CLGFBQWhCRSxFQUE0QixDQUNyQyxJQUFJbEIsRUFBb0JDLFNBQVNDLGNBQWUsSUFBR1ksS0FDbkQsSUFBSyxJQUFJWCxFQUFJLEVBQUdBLEVBQUlZLEVBQVFaLElBQzFCRSxFQUFPTCxFQUFrQkUsY0FBZSwwQkFBeUJlLElBQU1ELEVBQU1iLE9BQzdFRSxFQUFLRSxVQUFVQyxJQUFJYSxHQUNuQjNCLEVBQVU0QixXQUFXTCxFQUFLRCxFQUFNYixFQUVwQyxDQUNBLE9BQU8sQ0FDVCxDQUNBLE9BQU8sQ0FDVCxDQTRCTyxTQUFTb0IsRUFBaUM3QixFQUFXb0IsR0FRMURoQixRQUFRQyxJQUFJTCxHQUNaLElBQUlFLEVBQWdCRixFQUFVRyxVQVJkLENBQ2QsQ0FBRXdCLEtBQU0sVUFBV04sT0FBUSxHQUMzQixDQUFFTSxLQUFNLGFBQWNOLE9BQVEsR0FDOUIsQ0FBRU0sS0FBTSxVQUFXTixPQUFRLEdBQzNCLENBQUVNLEtBQU0sWUFBYU4sT0FBUSxHQUM3QixDQUFFTSxLQUFNLFlBQWFOLE9BQVEsSUFJckJTLFNBQVNYLElBQ2pCLEVBQUcsQ0FDREEsRUFBU0csSUFBTVMsS0FBS0MsTUFBTUQsS0FBS0UsVUFBWS9CLEVBQWdCLEdBQUssR0FDaEVpQixFQUFTSSxJQUFNUSxLQUFLQyxNQUFNRCxLQUFLRSxVQUFZL0IsRUFBZ0IsR0FBSyxHQUNoRUUsUUFBUUMsSUFBSWMsRUFBU0csSUFBS0gsRUFBU0ksS0FDbkMsSUFBSUMsRUFBY08sS0FBS0csTUFBTUgsS0FBS0UsVUFDbENkLEVBQVNLLFlBQWNBLEVBQWMsYUFBZSxVQUN0RCxRQUFVTixFQUFxQkMsRUFBVW5CLEVBQVdvQixJQUNwRGhCLFFBQVFDLElBQUljLEVBQVMsR0FFekIsc0VBRUEscUZDeERBLFFBbEJBLFdBRWMsSUFBSWdCLE1BREEsSUFDaUJDLE9BQU9DLEtBQUksSUFBTSxJQUFJRixNQUR0QyxJQUN1REMsTUFBSyxLQUQ1RSxJQUVJRSxFQUFXLElBQUlILE1BRkgsSUFFb0JDLE9BQU9DLEtBQUksSUFBTSxJQUFJRixNQUZ6QyxJQUUwREMsTUFBSyxLQUMvRSxNQUFPLENBQ0xHLGFBQUFBLENBQWNoQixFQUFLRCxHQUFNLEVBQ3pCRyxlQUFjQSxDQUFDRixFQUFLRCxJQUNYZ0IsRUFBU2YsR0FBS0QsR0FFdkJNLFVBQUFBLENBQVdMLEVBQUtELEdBQ2RnQixFQUFTZixHQUFLRCxJQUFPLENBQ3ZCLEVBQ0FuQixRQUFPQSxJQVhPLEdBZWxCLDBFQ1RBLFFBUEEsV0FFRSxPQURXLElBQUlnQyxNQUFNSyxXQUFXSixPQUFPQyxLQUFJLElBQU0sSUFBSUYsTUFBTUssV0FBV0osTUFBSyxLQUNwRSxDQUNMSyxNQUFBQSxDQUFPQyxFQUFHQyxHQUFJLEVBRWxCLHdFQ2NBLFFBbkJBLFNBQWN0QixHQUNaLElBQUl1QixFQUFPLEVBQ1BDLEVBQWF4QixFQUNqQixNQUFPLENBQ0x5QixHQUFBQSxHQUNFRixHQUNGLEVBQ0FHLE9BQU1BLElBQ0FILEdBQVFDLEVBS2R4QixPQUFNQSxJQUNHd0IsRUFHYiw2Q0NoQklHLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYUUsUUFHckIsSUFBSUMsRUFBU04sRUFBeUJFLEdBQVksQ0FHakRHLFFBQVMsQ0FBQyxHQU9YLE9BSEFFLEVBQW9CTCxHQUFVSSxFQUFRQSxFQUFPRCxRQUFTSixHQUcvQ0ssRUFBT0QsT0FDZixDQ3JCQUosRUFBb0JPLEVBQUksQ0FBQ0gsRUFBU0ksS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUixFQUFvQlUsRUFBRUYsRUFBWUMsS0FBU1QsRUFBb0JVLEVBQUVOLEVBQVNLLElBQzVFRSxPQUFPQyxlQUFlUixFQUFTSyxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsSUFFMUUsRUNORFQsRUFBb0JVLEVBQUksQ0FBQ0ssRUFBS0MsSUFBVUwsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsR0NDbEZoQixFQUFvQm9CLEVBQUtoQixJQUNILG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDWCxPQUFPQyxlQUFlUixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEWixPQUFPQyxlQUFlUixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sR0FBTyxzUENHOUQsSUFBSUMsR0FBa0JDLEVBQUFBLEVBQUFBLFdBQ2xCQyxHQUFpQkQsRUFBQUEsRUFBQUEsWUFFckJFLEVBQUFBLEVBQUFBLFNBQW9CSCxFQUFpQixpQkFDckNHLEVBQUFBLEVBQUFBLFNBQW9CRCxFQUFnQixnQkFDcEM5QyxFQUFBQSxFQUFBQSxrQ0FBaUM0QyxFQUFpQixpQkFDbEQ1QyxFQUFBQSxFQUFBQSxrQ0FBaUM4QyxFQUFnQixlQUNqRHZFLFFBQVFDLElBQUlvRSxHQUNackUsUUFBUUMsSUFBSXNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9qcy9ET00vY3JlYXRlR2FtZWJvYXJkR3JpZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2pzL0RPTS9wbGFjZVNoaXBPbkdhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2pzL2ZhY3Rvcmllcy9HYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9qcy9mYWN0b3JpZXMvUGxheWVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvanMvZmFjdG9yaWVzL1NoaXAuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY3JlYXRlR2FtZWJvYXJkR3JpZChnYW1lYm9hcmQsIGNvbnRhaW5lckNsYXNzKSB7XG4gIC8vIGxldCBjYXJyaWVyID0gU2hpcCg1KTtcbiAgLy8gbGV0IGJhdHRsZXNoaXAgPSBTaGlwKDUpO1xuICAvLyBsZXQgY3J1aXNlciA9IFNoaXAoNSk7XG4gIC8vIGxldCBzdWJtYXJpbmUgPSBTaGlwKDUpO1xuICAvLyBsZXQgZGVzdHJveWVyID0gU2hpcCg1KTtcblxuICBsZXQgZ2FtZWJvYXJkU2l6ZSA9IGdhbWVib2FyZC5nZXRTaXplKCk7XG4gIGNvbnNvbGUubG9nKGNvbnRhaW5lckNsYXNzKTtcbiAgbGV0IHNlbGVjdGVkR2FtZWJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Y29udGFpbmVyQ2xhc3N9YCk7XG4gIGNvbnNvbGUubG9nKHNlbGVjdGVkR2FtZWJvYXJkKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lYm9hcmRTaXplOyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdhbWVib2FyZFNpemU7IGorKykge1xuICAgICAgbGV0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnY2VsbCcpO1xuICAgICAgY2VsbC5kYXRhc2V0LmNvb3JkaW5hdGUgPSBgJHtqfSR7aX1gO1xuICAgICAgc2VsZWN0ZWRHYW1lYm9hcmQuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUdhbWVib2FyZEdyaWQ7XG4iLCJmdW5jdGlvbiBwbGFjZVNoaXBPbkdhbWVib2FyZChzaGlwRGF0YSwgZ2FtZWJvYXJkLCBjbGFzc05hbWUpIHtcbiAgaWYgKGlzVmFsaWRTaGlwUGxhY2VtZW50KHNoaXBEYXRhLCBnYW1lYm9hcmQpKSB7XG4gICAgY29uc3QgeyByb3csIGNvbCwgbmFtZSwgbGVuZ3RoLCBvcmllbnRhdGlvbiB9ID0gc2hpcERhdGE7XG4gICAgY29uc29sZS5sb2coJ3JvdzogJyArIHJvdyk7XG4gICAgY29uc29sZS5sb2coJ2NvbDogJyArIGNvbCk7XG4gICAgbGV0IGNlbGw7XG4gICAgaWYgKG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgIGxldCBzZWxlY3RlZEdhbWVib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NsYXNzTmFtZX1gKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2VsbCA9IHNlbGVjdGVkR2FtZWJvYXJkLnF1ZXJ5U2VsZWN0b3IoYC5jZWxsW2RhdGEtY29vcmRpbmF0ZT1cIiR7Y29sICsgaX0ke3Jvd31cIl1gKTtcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKG5hbWUpO1xuICAgICAgICBnYW1lYm9hcmQub2NjdXB5Q2VsbChjb2wgKyBpLCByb3cpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgIGxldCBzZWxlY3RlZEdhbWVib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NsYXNzTmFtZX1gKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2VsbCA9IHNlbGVjdGVkR2FtZWJvYXJkLnF1ZXJ5U2VsZWN0b3IoYC5jZWxsW2RhdGEtY29vcmRpbmF0ZT1cIiR7Y29sfSR7cm93ICsgaX1cIl1gKTtcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKG5hbWUpO1xuICAgICAgICBnYW1lYm9hcmQub2NjdXB5Q2VsbChjb2wsIHJvdyArIGkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRTaGlwUGxhY2VtZW50KHNoaXBEYXRhLCBnYW1lYm9hcmQpIHtcbiAgY29uc3QgeyBsZW5ndGgsIHJvdywgY29sLCBvcmllbnRhdGlvbiB9ID0gc2hpcERhdGE7XG4gIGxldCBnYW1lYm9hcmRTaXplID0gZ2FtZWJvYXJkLmdldFNpemUoKTtcbiAgLy8gQ2hlY2sgaWYgdGhlIHNoaXAgcGxhY2VtZW50IGdvZXMgb3V0IG9mIGJvdW5kc1xuICBpZiAoKG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgJiYgY29sICsgbGVuZ3RoID4gZ2FtZWJvYXJkU2l6ZSkgfHwgKG9yaWVudGF0aW9uID09PSAndmVydGljYWwnICYmIHJvdyArIGxlbmd0aCA+IGdhbWVib2FyZFNpemUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gQ2hlY2sgZm9yIG92ZXJsYXBwaW5nIHNoaXBzXG4gIGlmIChvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGdhbWVib2FyZC5pc09jY3VwaWVkQ2VsbChjb2wgKyBpLCByb3cpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZ2FtZWJvYXJkLmlzT2NjdXBpZWRDZWxsKGNvbCwgcm93ICsgaSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlOyAvLyBUaGUgcGxhY2VtZW50IGlzIHZhbGlkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwbGFjZUFsbFNoaXBzUmFuZG9tbHlPbkdhbWVib2FyZChnYW1lYm9hcmQsIGNsYXNzTmFtZSkge1xuICBsZXQgc2hpcHNEYXRhID0gW1xuICAgIHsgbmFtZTogJ2NhcnJpZXInLCBsZW5ndGg6IDUgfSxcbiAgICB7IG5hbWU6ICdiYXR0bGVzaGlwJywgbGVuZ3RoOiA0IH0sXG4gICAgeyBuYW1lOiAnY3J1aXNlcicsIGxlbmd0aDogMyB9LFxuICAgIHsgbmFtZTogJ3N1Ym1hcmluZScsIGxlbmd0aDogMyB9LFxuICAgIHsgbmFtZTogJ2Rlc3Ryb3llcicsIGxlbmd0aDogMiB9LFxuICBdO1xuICBjb25zb2xlLmxvZyhnYW1lYm9hcmQpO1xuICBsZXQgZ2FtZWJvYXJkU2l6ZSA9IGdhbWVib2FyZC5nZXRTaXplKCk7XG4gIHNoaXBzRGF0YS5mb3JFYWNoKChzaGlwRGF0YSkgPT4ge1xuICAgIGRvIHtcbiAgICAgIHNoaXBEYXRhLnJvdyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChnYW1lYm9hcmRTaXplIC0gMCkgKyAwKTtcbiAgICAgIHNoaXBEYXRhLmNvbCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChnYW1lYm9hcmRTaXplIC0gMCkgKyAwKTtcbiAgICAgIGNvbnNvbGUubG9nKHNoaXBEYXRhLnJvdywgc2hpcERhdGEuY29sKTtcbiAgICAgIGxldCBvcmllbnRhdGlvbiA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSk7XG4gICAgICBzaGlwRGF0YS5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJztcbiAgICB9IHdoaWxlICghcGxhY2VTaGlwT25HYW1lYm9hcmQoc2hpcERhdGEsIGdhbWVib2FyZCwgY2xhc3NOYW1lKSk7XG4gICAgY29uc29sZS5sb2coc2hpcERhdGEpO1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGxhY2VTaGlwT25HYW1lYm9hcmQ7XG4iLCJmdW5jdGlvbiBHYW1lYm9hcmQoKSB7XG4gIGxldCBib2FyZFNpemUgPSAxMDtcbiAgbGV0IGJvYXJkID0gbmV3IEFycmF5KGJvYXJkU2l6ZSkuZmlsbCgpLm1hcCgoKSA9PiBuZXcgQXJyYXkoYm9hcmRTaXplKS5maWxsKGZhbHNlKSk7XG4gIGxldCBvY2N1cGllZCA9IG5ldyBBcnJheShib2FyZFNpemUpLmZpbGwoKS5tYXAoKCkgPT4gbmV3IEFycmF5KGJvYXJkU2l6ZSkuZmlsbChmYWxzZSkpO1xuICByZXR1cm4ge1xuICAgIHJlY2VpdmVBdHRhY2soY29sLCByb3cpIHt9LFxuICAgIGlzT2NjdXBpZWRDZWxsKGNvbCwgcm93KSB7XG4gICAgICByZXR1cm4gb2NjdXBpZWRbY29sXVtyb3ddO1xuICAgIH0sXG4gICAgb2NjdXB5Q2VsbChjb2wsIHJvdykge1xuICAgICAgb2NjdXBpZWRbY29sXVtyb3ddID0gdHJ1ZTtcbiAgICB9LFxuICAgIGdldFNpemUoKSB7XG4gICAgICByZXR1cm4gYm9hcmRTaXplO1xuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVib2FyZDtcbiIsImZ1bmN0aW9uIFBsYXllcigpIHtcbiAgbGV0IGhpdHMgPSBuZXcgQXJyYXkoYm9hcmRTaXplKS5maWxsKCkubWFwKCgpID0+IG5ldyBBcnJheShib2FyZFNpemUpLmZpbGwoZmFsc2UpKTtcbiAgcmV0dXJuIHtcbiAgICBhdHRhY2soeCwgeSkge30sXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllcjtcbiIsImZ1bmN0aW9uIFNoaXAobGVuZ3RoKSB7XG4gIGxldCBoaXRzID0gMDtcbiAgbGV0IHNoaXBMZW5ndGggPSBsZW5ndGg7XG4gIHJldHVybiB7XG4gICAgaGl0KCkge1xuICAgICAgaGl0cysrO1xuICAgIH0sXG4gICAgaXNTdW5rKCkge1xuICAgICAgaWYgKGhpdHMgPj0gc2hpcExlbmd0aCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGxlbmd0aCgpIHtcbiAgICAgIHJldHVybiBzaGlwTGVuZ3RoO1xuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNoaXA7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCBjcmVhdGVHYW1lYm9hcmRHcmlkIGZyb20gJy4vanMvRE9NL2NyZWF0ZUdhbWVib2FyZEdyaWQnO1xuaW1wb3J0IHBsYWNlU2hpcE9uR2FtZWJvYXJkLCB7IHBsYWNlQWxsU2hpcHNSYW5kb21seU9uR2FtZWJvYXJkIH0gZnJvbSAnLi9qcy9ET00vcGxhY2VTaGlwT25HYW1lYm9hcmQnO1xuaW1wb3J0IEdhbWVib2FyZCBmcm9tICcuL2pzL2ZhY3Rvcmllcy9HYW1lYm9hcmQnO1xuaW1wb3J0IFBsYXllciBmcm9tICcuL2pzL2ZhY3Rvcmllcy9QbGF5ZXInO1xuaW1wb3J0IFNoaXAgZnJvbSAnLi9qcy9mYWN0b3JpZXMvU2hpcCc7XG5cbmltcG9ydCAnL3NyYy9jc3Mvc3R5bGVzLmNzcyc7XG5cbmxldCBwbGF5ZXJHYW1lYm9hcmQgPSBHYW1lYm9hcmQoKTtcbmxldCBlbmVteUdhbWVib2FyZCA9IEdhbWVib2FyZCgpO1xuXG5jcmVhdGVHYW1lYm9hcmRHcmlkKHBsYXllckdhbWVib2FyZCwgJ3BsYXllci1ib2FyZCcpO1xuY3JlYXRlR2FtZWJvYXJkR3JpZChlbmVteUdhbWVib2FyZCwgJ2VuZW15LWJvYXJkJyk7XG5wbGFjZUFsbFNoaXBzUmFuZG9tbHlPbkdhbWVib2FyZChwbGF5ZXJHYW1lYm9hcmQsICdwbGF5ZXItYm9hcmQnKTtcbnBsYWNlQWxsU2hpcHNSYW5kb21seU9uR2FtZWJvYXJkKGVuZW15R2FtZWJvYXJkLCAnZW5lbXktYm9hcmQnKTtcbmNvbnNvbGUubG9nKHBsYXllckdhbWVib2FyZCk7XG5jb25zb2xlLmxvZyhlbmVteUdhbWVib2FyZCk7XG4iXSwibmFtZXMiOlsiZ2FtZWJvYXJkIiwiY29udGFpbmVyQ2xhc3MiLCJnYW1lYm9hcmRTaXplIiwiZ2V0U2l6ZSIsImNvbnNvbGUiLCJsb2ciLCJzZWxlY3RlZEdhbWVib2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImkiLCJqIiwiY2VsbCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkYXRhc2V0IiwiY29vcmRpbmF0ZSIsImFwcGVuZENoaWxkIiwicGxhY2VTaGlwT25HYW1lYm9hcmQiLCJzaGlwRGF0YSIsImNsYXNzTmFtZSIsImxlbmd0aCIsInJvdyIsImNvbCIsIm9yaWVudGF0aW9uIiwiaXNPY2N1cGllZENlbGwiLCJpc1ZhbGlkU2hpcFBsYWNlbWVudCIsIm5hbWUiLCJvY2N1cHlDZWxsIiwicGxhY2VBbGxTaGlwc1JhbmRvbWx5T25HYW1lYm9hcmQiLCJmb3JFYWNoIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicm91bmQiLCJBcnJheSIsImZpbGwiLCJtYXAiLCJvY2N1cGllZCIsInJlY2VpdmVBdHRhY2siLCJib2FyZFNpemUiLCJhdHRhY2siLCJ4IiwieSIsImhpdHMiLCJzaGlwTGVuZ3RoIiwiaGl0IiwiaXNTdW5rIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJwbGF5ZXJHYW1lYm9hcmQiLCJHYW1lYm9hcmQiLCJlbmVteUdhbWVib2FyZCIsImNyZWF0ZUdhbWVib2FyZEdyaWQiXSwic291cmNlUm9vdCI6IiJ9